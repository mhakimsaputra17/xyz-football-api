{
	"info": {
		"_postman_id": "xyz-football-api-collection",
		"name": "XYZ Football API",
		"description": "REST API for managing football teams, players, match schedules, results, and reports for Perusahaan XYZ.\n\nBase URL: http://localhost:8080/api/v1\n\nAuth: JWT Bearer Token (access_token)\n\nWorkflow:\n1. Login → get access_token & refresh_token\n2. Use access_token for all protected endpoints (inherited from collection auth)\n3. Refresh when access_token expires (15 min)\n4. Logout to invalidate refresh_token\n\nCollection Runner: Run all requests top-to-bottom. The Cleanup folder at the end handles deletions and logout.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{access_token}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "team_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "team_id_2",
			"value": "",
			"type": "string"
		},
		{
			"key": "player_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "player_id_2",
			"value": "",
			"type": "string"
		},
		{
			"key": "match_id",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Auth",
			"description": "Authentication endpoints: login and refresh tokens. Logout is in the Cleanup folder.",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.collectionVariables.set('access_token', json.data.access_token);",
									"    pm.collectionVariables.set('refresh_token', json.data.refresh_token);",
									"    pm.test('Login successful', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.access_token).to.be.a('string').and.not.empty;",
									"        pm.expect(json.data.refresh_token).to.be.a('string').and.not.empty;",
									"        pm.expect(json.data.admin.id).to.be.a('string').and.not.empty;",
									"        pm.expect(json.data.admin.username).to.eql('admin');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "login"]
						},
						"description": "Authenticate with username and password to receive access and refresh tokens.\n\nNo auth required.\n\nAccess token: 15 min TTL\nRefresh token: 7 days TTL (stored in DB)\n\nTest script auto-saves tokens to collection variables."
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.collectionVariables.set('access_token', json.data.access_token);",
									"    pm.collectionVariables.set('refresh_token', json.data.refresh_token);",
									"    pm.test('Token refreshed', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.access_token).to.be.a('string').and.not.empty;",
									"        pm.expect(json.data.refresh_token).to.be.a('string').and.not.empty;",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refresh_token\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/refresh",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "refresh"]
						},
						"description": "Exchange a valid refresh token for a new access + refresh token pair (token rotation).\n\nNo auth required.\n\nThe old refresh token is invalidated and a new pair is issued. Test script auto-updates collection variables."
					},
					"response": []
				}
			]
		},
		{
			"name": "Teams",
			"description": "CRUD operations for football teams. Delete is in the Cleanup folder.",
			"item": [
				{
					"name": "Create Team",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 201) {",
									"    var json = pm.response.json();",
									"    pm.collectionVariables.set('team_id', json.data.id);",
									"    pm.test('Team created', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.id).to.be.a('string').and.not.empty;",
									"        pm.expect(json.data.name).to.eql('Persija Jakarta');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Persija Jakarta\",\n    \"logo_url\": \"https://example.com/persija-logo.png\",\n    \"founded_year\": 1928,\n    \"address\": \"Jl. Casablanca, Menteng Dalam\",\n    \"city\": \"Jakarta\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/teams",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "teams"]
						},
						"description": "Create a new football team.\n\nRequired fields: name\nOptional fields: logo_url (valid URL), founded_year (1800-2100), address, city\n\nTest script saves team_id to collection variables."
					},
					"response": []
				},
				{
					"name": "Create Team 2 (Away)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 201) {",
									"    var json = pm.response.json();",
									"    pm.collectionVariables.set('team_id_2', json.data.id);",
									"    pm.test('Team 2 created', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.name).to.eql('Persib Bandung');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Persib Bandung\",\n    \"logo_url\": \"https://example.com/persib-logo.png\",\n    \"founded_year\": 1933,\n    \"address\": \"Jl. Ahmad Yani, Kacapiring\",\n    \"city\": \"Bandung\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/teams",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "teams"]
						},
						"description": "Create a second team (for use as away team in matches).\n\nTest script saves team_id_2 to collection variables."
					},
					"response": []
				},
				{
					"name": "Get All Teams",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Teams list retrieved', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data).to.be.an('array');",
									"        pm.expect(json.meta).to.have.property('page');",
									"        pm.expect(json.meta).to.have.property('per_page');",
									"        pm.expect(json.meta).to.have.property('total');",
									"        pm.expect(json.meta).to.have.property('total_pages');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/teams?page=1&per_page=10&sort_by=created_at&sort_order=desc",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "teams"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "per_page",
									"value": "10",
									"description": "Items per page (default: 10, max: 100)"
								},
								{
									"key": "sort_by",
									"value": "created_at",
									"description": "Sort field: created_at, name, founded_year, city (default: created_at)"
								},
								{
									"key": "sort_order",
									"value": "desc",
									"description": "Sort order: asc or desc (default: desc)"
								}
							]
						},
						"description": "Returns a paginated list of all teams with sorting support.\n\nAllowed sort_by values: created_at, name, founded_year, city\n\nQuery params: page, per_page, sort_by, sort_order"
					},
					"response": []
				},
				{
					"name": "Get Team by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Team retrieved', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.id).to.eql(pm.collectionVariables.get('team_id'));",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/teams/{{team_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "teams", "{{team_id}}"]
						},
						"description": "Returns details of a single team by its UUID."
					},
					"response": []
				},
				{
					"name": "Update Team",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Team updated', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.name).to.eql('Persija Jakarta Updated');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Persija Jakarta Updated\",\n    \"logo_url\": \"https://example.com/persija-logo-new.png\",\n    \"founded_year\": 1928,\n    \"address\": \"Jl. Casablanca, Menteng Dalam\",\n    \"city\": \"Jakarta Selatan\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/teams/{{team_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "teams", "{{team_id}}"]
						},
						"description": "Updates an existing team by its UUID.\n\nRequired fields: name\nOptional fields: logo_url, founded_year, address, city"
					},
					"response": []
				}
			]
		},
		{
			"name": "Players",
			"description": "CRUD operations for players. Create and list are nested under teams; get, update, delete use player ID directly. Delete is in the Cleanup folder.",
			"item": [
				{
					"name": "Create Player (Team 1)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 201) {",
									"    var json = pm.response.json();",
									"    pm.collectionVariables.set('player_id', json.data.id);",
									"    pm.test('Player created', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.id).to.be.a('string').and.not.empty;",
									"        pm.expect(json.data.name).to.eql('Marko Simic');",
									"        pm.expect(json.data.jersey_number).to.eql(9);",
									"        pm.expect(json.data.position).to.eql('penyerang');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Marko Simic\",\n    \"height\": 186,\n    \"weight\": 82,\n    \"position\": \"penyerang\",\n    \"jersey_number\": 9\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/teams/{{team_id}}/players",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "teams", "{{team_id}}", "players"]
						},
						"description": "Creates a new player under the specified team.\n\nRequired fields: name, height (>0), weight (>0), position (penyerang|gelandang|bertahan|penjaga_gawang), jersey_number (>0)\n\nJersey number must be unique within the team.\n\nTest script saves player_id to collection variables."
					},
					"response": []
				},
				{
					"name": "Create Player (Team 2)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 201) {",
									"    var json = pm.response.json();",
									"    pm.collectionVariables.set('player_id_2', json.data.id);",
									"    pm.test('Player 2 created', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.name).to.eql('David da Silva');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"David da Silva\",\n    \"height\": 180,\n    \"weight\": 78,\n    \"position\": \"penyerang\",\n    \"jersey_number\": 11\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/teams/{{team_id_2}}/players",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "teams", "{{team_id_2}}", "players"]
						},
						"description": "Creates a player for the second team (for use in match goals).\n\nTest script saves player_id_2 to collection variables."
					},
					"response": []
				},
				{
					"name": "Get Players by Team",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Players list retrieved', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data).to.be.an('array');",
									"        pm.expect(json.meta).to.have.property('page');",
									"        pm.expect(json.meta).to.have.property('total');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/teams/{{team_id}}/players?page=1&per_page=10&sort_by=jersey_number&sort_order=asc",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "teams", "{{team_id}}", "players"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "per_page",
									"value": "10",
									"description": "Items per page (default: 10, max: 100)"
								},
								{
									"key": "sort_by",
									"value": "jersey_number",
									"description": "Sort field: created_at, name, jersey_number, position (default: created_at)"
								},
								{
									"key": "sort_order",
									"value": "asc",
									"description": "Sort order: asc or desc (default: desc)"
								}
							]
						},
						"description": "Returns a paginated list of players belonging to the specified team.\n\nAllowed sort_by values: created_at, name, jersey_number, position\n\nQuery params: page, per_page, sort_by, sort_order"
					},
					"response": []
				},
				{
					"name": "Get Player by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Player retrieved', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.id).to.eql(pm.collectionVariables.get('player_id'));",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/players/{{player_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "players", "{{player_id}}"]
						},
						"description": "Returns details of a single player by its UUID."
					},
					"response": []
				},
				{
					"name": "Update Player",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Player updated', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.name).to.eql('Marko Simic Updated');",
									"        pm.expect(json.data.jersey_number).to.eql(10);",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Marko Simic Updated\",\n    \"height\": 186,\n    \"weight\": 83,\n    \"position\": \"penyerang\",\n    \"jersey_number\": 10\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/players/{{player_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "players", "{{player_id}}"]
						},
						"description": "Updates an existing player by its UUID.\n\nRequired fields: name, height (>0), weight (>0), position, jersey_number (>0)\n\nJersey number must remain unique within the team."
					},
					"response": []
				}
			]
		},
		{
			"name": "Matches",
			"description": "CRUD for match schedules + submit/update match results with goals. Delete is in the Cleanup folder.",
			"item": [
				{
					"name": "Create Match",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 201) {",
									"    var json = pm.response.json();",
									"    pm.collectionVariables.set('match_id', json.data.id);",
									"    pm.test('Match created', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.id).to.be.a('string').and.not.empty;",
									"        pm.expect(json.data.status).to.eql('scheduled');",
									"        pm.expect(json.data.home_score).to.eql(0);",
									"        pm.expect(json.data.away_score).to.eql(0);",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"home_team_id\": \"{{team_id}}\",\n    \"away_team_id\": \"{{team_id_2}}\",\n    \"match_date\": \"2026-03-15\",\n    \"match_time\": \"19:30\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/matches",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches"]
						},
						"description": "Creates a new match schedule between two different teams.\n\nRequired fields: home_team_id (UUID), away_team_id (UUID), match_date (YYYY-MM-DD), match_time (HH:MM)\n\nhome_team_id and away_team_id must be different.\n\nTest script saves match_id to collection variables."
					},
					"response": []
				},
				{
					"name": "Get All Matches",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Matches list retrieved', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data).to.be.an('array');",
									"        pm.expect(json.meta).to.have.property('total');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches?page=1&per_page=10&sort_by=match_date&sort_order=desc",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "per_page",
									"value": "10",
									"description": "Items per page (default: 10, max: 100)"
								},
								{
									"key": "sort_by",
									"value": "match_date",
									"description": "Sort field: created_at, match_date, status (default: created_at)"
								},
								{
									"key": "sort_order",
									"value": "desc",
									"description": "Sort order: asc or desc (default: desc)"
								}
							]
						},
						"description": "Returns a paginated list of all matches with home/away team details.\n\nAllowed sort_by values: created_at, match_date, status\n\nQuery params: page, per_page, sort_by, sort_order"
					},
					"response": []
				},
				{
					"name": "Get Match by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Match retrieved', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.id).to.eql(pm.collectionVariables.get('match_id'));",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches/{{match_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", "{{match_id}}"]
						},
						"description": "Returns details of a single match including home team, away team, and goals."
					},
					"response": []
				},
				{
					"name": "Update Match",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Match updated', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.match_date).to.eql('2026-04-01');",
									"        pm.expect(json.data.match_time).to.eql('20:00');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"home_team_id\": \"{{team_id}}\",\n    \"away_team_id\": \"{{team_id_2}}\",\n    \"match_date\": \"2026-04-01\",\n    \"match_time\": \"20:00\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/matches/{{match_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", "{{match_id}}"]
						},
						"description": "Updates an existing match schedule. Cannot update a completed match.\n\nRequired fields: home_team_id, away_team_id, match_date, match_time"
					},
					"response": []
				},
				{
					"name": "Submit Match Result",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Match result submitted', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.status).to.eql('completed');",
									"        pm.expect(json.data.home_score).to.eql(2);",
									"        pm.expect(json.data.away_score).to.eql(1);",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"goals\": [\n        {\n            \"player_id\": \"{{player_id}}\",\n            \"team_id\": \"{{team_id}}\",\n            \"minute\": 23\n        },\n        {\n            \"player_id\": \"{{player_id}}\",\n            \"team_id\": \"{{team_id}}\",\n            \"minute\": 67\n        },\n        {\n            \"player_id\": \"{{player_id_2}}\",\n            \"team_id\": \"{{team_id_2}}\",\n            \"minute\": 45\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/matches/{{match_id}}/result",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", "{{match_id}}", "result"]
						},
						"description": "Submits goals for a scheduled match. Auto-computes home_score and away_score from goals, and marks match status as 'completed'.\n\nRequired: goals array with player_id (UUID), team_id (UUID), minute (>= 1)\n\nEach player must belong to one of the two teams in the match.\n\nThis example: Home team scores 2 goals (min 23, 67), Away team scores 1 (min 45) → 2-1"
					},
					"response": []
				},
				{
					"name": "Update Match Result",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Match result updated', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data.status).to.eql('completed');",
									"        pm.expect(json.data.home_score).to.eql(1);",
									"        pm.expect(json.data.away_score).to.eql(1);",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"goals\": [\n        {\n            \"player_id\": \"{{player_id}}\",\n            \"team_id\": \"{{team_id}}\",\n            \"minute\": 55\n        },\n        {\n            \"player_id\": \"{{player_id_2}}\",\n            \"team_id\": \"{{team_id_2}}\",\n            \"minute\": 78\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/matches/{{match_id}}/result",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", "{{match_id}}", "result"]
						},
						"description": "Replaces existing goals for a completed match with new data and recomputes scores.\n\nAll previous goals are deleted and replaced with the new set.\n\nThis example: Updates to 1-1 draw (Home goal min 55, Away goal min 78)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Reports",
			"description": "Match reports with result classification, top scorer, and accumulated total wins.",
			"item": [
				{
					"name": "Get Match Reports (List)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Match reports retrieved', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data).to.be.an('array');",
									"        pm.expect(json.meta).to.have.property('total');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/reports/matches?page=1&per_page=10&sort_by=created_at&sort_order=desc",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "reports", "matches"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "per_page",
									"value": "10",
									"description": "Items per page (default: 10, max: 100)"
								},
								{
									"key": "sort_by",
									"value": "created_at",
									"description": "Sort field: created_at, match_date, status (default: created_at)"
								},
								{
									"key": "sort_order",
									"value": "desc",
									"description": "Sort order: asc or desc (default: desc)"
								}
							]
						},
						"description": "Returns a paginated list of completed match reports with match result summary (Home Win / Away Win / Draw).\n\nAllowed sort_by values: created_at, match_date, status\n\nQuery params: page, per_page, sort_by, sort_order"
					},
					"response": []
				},
				{
					"name": "Get Match Report by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Match report retrieved', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.data).to.have.property('match_id');",
									"        pm.expect(json.data).to.have.property('match_result');",
									"        pm.expect(json.data).to.have.property('goals');",
									"        pm.expect(json.data).to.have.property('top_scorer');",
									"        pm.expect(json.data).to.have.property('home_team_total_wins');",
									"        pm.expect(json.data).to.have.property('away_team_total_wins');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/reports/matches/{{match_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "reports", "matches", "{{match_id}}"]
						},
						"description": "Returns a detailed report for a completed match including:\n- Match result: Home Win / Away Win / Draw\n- All goals with player name, team name, minute\n- Top scorer of the match\n- Accumulated total wins for home team across ALL matches\n- Accumulated total wins for away team across ALL matches"
					},
					"response": []
				}
			]
		},
		{
			"name": "Health",
			"description": "Health check endpoint.",
			"item": [
				{
					"name": "Health Check",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('Health check OK', function () {",
									"    pm.expect(pm.response.code).to.eql(200);",
									"    var json = pm.response.json();",
									"    pm.expect(json.status).to.eql('ok');",
									"});"
								]
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						},
						"description": "Public health check endpoint. No authentication required.\n\nUsed by Docker HEALTHCHECK and load balancers.\n\nExpected response: {\"status\": \"ok\"}"
					},
					"response": []
				}
			]
		},
		{
			"name": "Cleanup",
			"description": "Delete operations and logout. Run these last in Collection Runner to avoid breaking dependent requests.",
			"item": [
				{
					"name": "Delete Match",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Match deleted', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.message).to.eql('Match deleted successfully');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/matches/{{match_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "matches", "{{match_id}}"]
						},
						"description": "Soft-deletes a match by its UUID."
					},
					"response": []
				},
				{
					"name": "Delete Player",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Player deleted', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.message).to.eql('Player deleted successfully');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/players/{{player_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "players", "{{player_id}}"]
						},
						"description": "Soft-deletes a player by its UUID."
					},
					"response": []
				},
				{
					"name": "Delete Team",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Team deleted', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.message).to.eql('Team deleted successfully');",
									"    });",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/teams/{{team_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "teams", "{{team_id}}"]
						},
						"description": "Soft-deletes a team by its UUID.\n\nThe team is not permanently removed; it is marked with a deleted_at timestamp."
					},
					"response": []
				},
				{
					"name": "Logout",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (pm.response.code === 200) {",
									"    var json = pm.response.json();",
									"    pm.test('Logout successful', function () {",
									"        pm.expect(json.status).to.eql('success');",
									"        pm.expect(json.message).to.eql('Logout successful');",
									"    });",
									"    pm.collectionVariables.set('access_token', '');",
									"    pm.collectionVariables.set('refresh_token', '');",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refresh_token\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/logout",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "logout"]
						},
						"description": "Invalidate the refresh token by hard-deleting it from the database.\n\nRequires Bearer token (inherited from collection auth).\n\nTest script clears saved tokens from collection variables."
					},
					"response": []
				}
			]
		}
	]
}
